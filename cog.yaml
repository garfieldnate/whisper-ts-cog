image: "r8.im/wordscenes/whisper-stable-ts"
build:
  gpu: true
  python_version: "3.11"
  python_packages:
    # latest release is 2.0.0, but that takes forever to run for some reason
    - "git+https://github.com/jianfch/stable-ts.git@789bb543115e486fad450dffd40e0dcf39e041d5"
    - "demucs==4.0.0"
  system_packages:
    - "ffmpeg"
  # The below does *not* work; run commands here don't have access to the code; therefore, we require
  # the user to use `cog run` to download models instead of downloading them here
  # run:
  #   - python script/download_models.py
predict: "predict.py:Predictor"
