image: "r8.im/wordscenes/whisper-stable-ts"
build:
  gpu: true
  python_version: "3.11"
  python_packages:
    # latest release is OLD! Use a much newer commit instead
    - "git+https://github.com/jianfch/stable-ts.git@900797a90a35b09fef9fe13574e963dc6a58aa56"
    - "faster-whisper==0.10.0"
    - "demucs==4.0.0"
  system_packages:
    - "ffmpeg"
  # The below does *not* work; run commands here don't have access to the code; therefore, we require
  # the user to use `cog run` to download models instead of downloading them here
  # run:
  #   - python script/download_models.py
predict: "predict.py:Predictor"
